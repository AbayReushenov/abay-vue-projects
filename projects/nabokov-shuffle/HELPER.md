## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞ –∫–∞—Ä—Ç–æ—á–µ–∫

### –ü—Ä–æ–±–ª–µ–º–∞:
–í—ã –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–µ—Ç–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –≤ –ø–∞–º—è—Ç–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (cards.value), –Ω–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ–± —ç—Ç–æ–º –Ω–æ–≤–æ–º –ø–æ—Ä—è–¥–∫–µ –Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞–µ—Ç.
–ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –º—ã –∑–∞–Ω–æ–≤–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–¥–∞–µ—Ç –∏—Ö –≤ –ø–æ—Ä—è–¥–∫–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ created_at).


### –î–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ order –≤ —Ç–∞–±–ª–∏—Ü—É –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å –µ–≥–æ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–Ω–∏—è.

### –ü–ª–∞–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞:

–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å –ø–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä –∫–∞—Ä—Ç–æ—á–∫–∏.
–ó–∞–π—Ç–∏ –≤ SQL Editor –≤ –ø–∞–Ω–µ–ª–∏ Supabase –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:


```sql
-- –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–ª–æ–Ω–∫—É 'order' (—á–∏—Å–ª–æ)
ALTER TABLE cards ADD COLUMN "order" BIGINT DEFAULT 0;
```

2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¢–∏–ø–æ–≤ (src/types/index.ts)
–ù–æ–≤–æ–µ –ø–æ–ª–µ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

```typescript
export interface Card {
  id: string
  content: string
  user_id?: string
  created_at?: string
  color: CardColor
  order: number // <-- –ù–æ–≤–æ–µ –ø–æ–ª–µ
}
```

3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –°—Ç–æ—Ä–∞ (src/stores/shoebox.ts)
 - –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ (fetchCards) —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ –ø–æ–ª—é order, –∞ –Ω–µ created_at.
 - –ü–æ—Å–ª–µ shuffleCards –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–π –ø–æ—Ä—è–¥–æ–∫ –Ω–∞ —Å–µ—Ä–≤–µ—Ä.

Supabase –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–µ–ª–∞—Ç—å –º–∞—Å—Å–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (Upsert), —á—Ç–æ –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞.

```typescript
// src/stores/shoebox.ts
// ... (–∏–º–ø–æ—Ä—Ç—ã —Ç–µ –∂–µ)

export const useShoeboxStore = defineStore('shoebox', () => {
  // ... (state, getters —Ç–µ –∂–µ)

  // 1. –ò–ó–ú–ï–ù–ï–ù–ò–ï: –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ 'order' –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
  const fetchCards = async () => {
    loading.value = true
    try {
      const { data, error } = await supabase
        .from('cards')
        .select('*')
        .order('order', { ascending: true }) // <--- –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –ø–æ—Ä—è–¥–∫—É!

      if (error) throw error
      if (data) cards.value = data as Card[]
    } catch (error) {
      console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:', error)
    } finally {
      loading.value = false
    }
  }

  // 2. –ò–ó–ú–ï–ù–ï–ù–ò–ï: –û–±–Ω–æ–≤–ª—è–µ–º 'order' –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏
  const addCard = async (content: string = '', color: CardColor = 'default') => {
    if (!authStore.user) return

    // –ù–æ–≤–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ –¥–æ–ª–∂–Ω–∞ —Å—Ç–∞—Ç—å –ø–µ—Ä–≤–æ–π (order = 0) –∏–ª–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–π.
    // –°–¥–µ–ª–∞–µ–º –µ—ë –ø–µ—Ä–≤–æ–π. –ù–æ —Ç–æ–≥–¥–∞ –≤—Å–µ–º –æ—Å—Ç–∞–ª—å–Ω—ã–º –Ω–∞–¥–æ –±—ã —Å–¥–≤–∏–Ω—É—Ç—å—Å—è.
    // –ü—Ä–æ—â–µ –≤—Å–µ–≥–æ: –ø—Ä–∏—Å–≤–æ–∏—Ç—å –µ–π order = min_current_order - 1.
    // –ù–æ –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –ø–æ–∫–∞ —Å—Ç–∞–≤–∏–º 0, –∞ Shuffle –ø–æ—Ç–æ–º –≤—Å–µ –≤—ã—Ä–æ–≤–Ω—è–µ—Ç.

    // –õ—É—á—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è MVP: —Å—Ç–∞–≤–∏–º –≤ –∫–æ–Ω–µ—Ü —Å–ø–∏—Å–∫–∞
    const currentMaxOrder = cards.value.length > 0
      ? Math.max(...cards.value.map(c => c.order || 0))
      : 0

    const payload = {
      content,
      color,
      user_id: authStore.user.id,
      order: currentMaxOrder + 1 // –°—Ç–∞–≤–∏–º –≤ –∫–æ–Ω–µ—Ü
    }

    try {
      const { data, error } = await supabase
        .from('cards')
        .insert(payload)
        .select()
        .single()

      if (error) throw error
      if (data) cards.value.push(data as Card) // –î–æ–±–∞–≤–ª—è–µ–º –≤ –∫–æ–Ω–µ—Ü –º–∞—Å—Å–∏–≤–∞
    } catch (error) {
      console.error('–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è:', error)
    }
  }

  // 3. –ù–û–í–û–ï: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
  const persistOrder = async () => {
    if (!authStore.user) return

    // –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –º–∞—Å—Å–æ–≤–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (Upsert)
    // –ú—ã –±–µ—Ä–µ–º —Ç–µ–∫—É—â–∏–π –ø–æ—Ä—è–¥–æ–∫ –≤ –º–∞—Å—Å–∏–≤–µ –∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º –∏–Ω–¥–µ–∫—Å—ã
    const updates = cards.value.map((card, index) => ({
      id: card.id,
      user_id: authStore.user!.id, // RLS —Ç—Ä–µ–±—É–µ—Ç —É–∫–∞–∑–∞–Ω–∏—è –≤–ª–∞–¥–µ–ª—å—Ü–∞ –ø—Ä–∏ upsert
      content: card.content,       // Upsert —Ç—Ä–µ–±—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π, –µ—Å–ª–∏ –æ–Ω–∏ not null
      color: card.color,           // (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ –±–∞–∑—ã, —á–∞—Å—Ç–æ –Ω—É–∂–µ–Ω –ø–æ–ª–Ω—ã–π –æ–±—ä–µ–∫—Ç)
      order: index                 // <--- –í–æ—Ç –Ω–∞—à –Ω–æ–≤—ã–π –ø–æ—Ä—è–¥–æ–∫!
    }))

    // –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è: Supabase upsert –æ–±–Ω–æ–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ, –µ—Å–ª–∏ ID —Å–æ–≤–ø–∞–¥–∞–µ—Ç
    try {
      const { error } = await supabase
        .from('cards')
        .upsert(updates) // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø–∞—á–∫–æ–π

      if (error) throw error
    } catch (error) {
      console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞:', error)
    }
  }

  // 4. –ò–ó–ú–ï–ù–ï–ù–ò–ï: –í—ã–∑–æ–≤ persistOrder –ø–æ—Å–ª–µ —à–∞—Ñ–ª–∞
  const shuffleCards = async () => {
    const shuffled = [...cards.value]

    // ... –≤–∞—à –∞–ª–≥–æ—Ä–∏—Ç–º –§–∏—à–µ—Ä–∞-–ô–µ–π—Ç—Å–∞ (—Ç–æ—Ç —Å–∞–º—ã–π, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π) ...
    let currentIndex = shuffled.length
    let randomIndex: number
    while (currentIndex != 0) {
      randomIndex = Math.floor(Math.random() * currentIndex)
      currentIndex--
      const temp = shuffled[currentIndex]
      shuffled[currentIndex] = shuffled[randomIndex]!
      shuffled[randomIndex] = temp!
    }

    // –ü—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º –Ω–æ–≤—ã–µ –∏–Ω–¥–µ–∫—Å—ã order –ø—Ä—è–º–æ –≤ –æ–±—ä–µ–∫—Ç–∞—Ö –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ —Å—Ç–µ–π—Ç
    shuffled.forEach((card, index) => {
      card.order = index
    })

    cards.value = shuffled

    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –±–∞–∑—É!
    await persistOrder()
  }

  // ... (deleteCard –∏ updateCardContent –æ—Å—Ç–∞—é—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º–∏)

  return {
    // ... exports
    persistOrder, // –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º, –µ—Å–ª–∏ –∑–∞—Ö–æ—Ç–∏–º –¥–µ–ª–∞—Ç—å Drag-n-Drop –ø–æ–∑–∂–µ
    fetchCards,
    addCard,
    shuffleCards,
    // ...
  }
})
```


# –ò—Å–ø—Ä–∞–≤–∏–º –ª–æ–≥–∏–∫—É –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏

–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –Ω–æ–≤—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –ø–æ—è–≤–ª—è–ª–∏—Å—å –≤ –Ω–∞—á–∞–ª–µ —Å–ø–∏—Å–∫–∞, –Ω–∞–º –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É –ø—Ä–∏—Å–≤–æ–µ–Ω–∏—è –Ω–æ–º–µ—Ä–∞ order –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏.

–°–∞–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ –±–µ–∑ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è –≤—Å–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (—á—Ç–æ–±—ã –Ω–µ —Å–¥–≤–∏–≥–∞—Ç—å order —É –≤—Å–µ—Ö —Å—Ç–∞—Ä—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫ –Ω–∞ +1) ‚Äî —ç—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ —á–∏—Å–ª–æ –º–µ–Ω—å—à–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ.

–ï—Å–ª–∏ —É –≤–∞—Å —Å–µ–π—á–∞—Å –∫–∞—Ä—Ç–æ—á–∫–∏ –∏–º–µ—é—Ç –ø–æ—Ä—è–¥–æ–∫ 0, 1, 2, —Ç–æ –Ω–æ–≤–æ–π –∫–∞—Ä—Ç–æ—á–∫–µ –º—ã –¥–∞–¥–∏–º –ø–æ—Ä—è–¥–æ–∫ -1. –ü—Ä–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–µ –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é (-1, 0, 1, 2) –æ–Ω–∞ –≤—Å—Ç–∞–Ω–µ—Ç –ø–µ—Ä–≤–æ–π.

–ß—Ç–æ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ src/stores/shoebox.ts
–í–∞–º –Ω—É–∂–Ω–æ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏—é addCard.

–í–º–µ—Å—Ç–æ –ø–æ–∏—Å–∫–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ order, –∏—â–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π.

–û—Ç–Ω–∏–º–∞–µ–º –æ—Ç –Ω–µ–≥–æ 1.

–í –ª–æ–∫–∞–ª—å–Ω—ã–π –º–∞—Å—Å–∏–≤ –¥–æ–±–∞–≤–ª—è–µ–º —á–µ—Ä–µ–∑ unshift (–≤ –Ω–∞—á–∞–ª–æ), –∞ –Ω–µ push.

–í–æ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥ –¥–µ–π—Å—Ç–≤–∏—è addCard:

```typescript
  // 2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ (CREATE)
  const addCard = async (content: string = '', color: CardColor = 'default') => {
    if (!authStore.user) return

    // –ò—â–µ–º —Ç–µ–∫—É—â–∏–π –ú–ò–ù–ò–ú–ê–õ–¨–ù–´–ô order —Å—Ä–µ–¥–∏ –≤—Å–µ—Ö –∫–∞—Ä—Ç–æ—á–µ–∫
    // –ï—Å–ª–∏ –∫–∞—Ä—Ç–æ—á–µ–∫ –Ω–µ—Ç, –Ω–∞—á–∏–Ω–∞–µ–º —Å 0
    const currentMinOrder = cards.value.length > 0
      ? Math.min(...cards.value.map(c => c.order))
      : 0

    const payload = {
      content,
      color,
      user_id: authStore.user.id,
      // –î–∞–µ–º –Ω–æ–≤–æ–π –∫–∞—Ä—Ç–æ—á–∫–µ –ø–æ—Ä—è–¥–æ–∫ –º–µ–Ω—å—à–µ, —á–µ–º —É –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö
      // –ù–∞–ø—Ä–∏–º–µ—Ä: –±—ã–ª–æ [0, 1, 2], –Ω–æ–≤–∞—è –ø–æ–ª—É—á–∏—Ç -1.
      order: currentMinOrder - 1
    }

    try {
      const { data, error } = await supabase
        .from('cards')
        .insert(payload)
        .select()
        .single()

      if (error) throw error

      if (data) {
        // unshift –¥–æ–±–∞–≤–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –≤ –ù–ê–ß–ê–õ–û –º–∞—Å—Å–∏–≤–∞
        cards.value.unshift(data as Card)
      }
    } catch (error) {
      console.error('–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è:', error)
    }
  }
```


# –ú—è–≥–∫–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
Supabase (–∏ SQL –≤ —Ü–µ–ª–æ–º) –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å —Ü–µ–ø–æ—á–∫—É —Å–æ—Ä—Ç–∏—Ä–æ–≤–æ–∫. –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –ø–µ—Ä–≤–æ–π –∫–æ–ª–æ–Ω–∫–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç (—É –≤–∞—Å —Å–µ–π—á–∞—Å –≤–µ–∑–¥–µ 0), –±–∞–∑–∞ –±—É–¥–µ—Ç —Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –≤—Ç–æ—Ä—É—é –∫–æ–ª–æ–Ω–∫—É.

–í–∞–º –Ω—É–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å –≤—Ç–æ—Ä–æ–π –≤—ã–∑–æ–≤ .order() –≤ —Ü–µ–ø–æ—á–∫—É –∑–∞–ø—Ä–æ—Å–∞.

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π fetchCards
–ú—ã —Ö–æ—Ç–∏–º —Ç–∞–∫–æ–π –ø–æ—Ä—è–¥–æ–∫:

–°–Ω–∞—á–∞–ª–∞ —Å–º–æ—Ç—Ä–∏–º –Ω–∞ order (–ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é).

–ï—Å–ª–∏ order –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, 0), —Ç–æ –±–æ–ª–µ–µ —Å–≤–µ–∂–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ (created_at) –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—ã—à–µ (–∏–ª–∏ –Ω–∏–∂–µ, –∫–∞–∫ –≤–∞–º —É–¥–æ–±–Ω–µ–µ). –û–±—ã—á–Ω–æ –≤ —Å–ø–∏—Å–∫–∞—Ö "–Ω–æ–≤—ã–µ —Å–≤–µ—Ä—Ö—É" ‚Äî —ç—Ç–æ descending (—É–±—ã–≤–∞–Ω–∏–µ).

```typescript
  // 1. –ó–∞–≥—Ä—É–∑–∫–∞ (READ)
  const fetchCards = async () => {
    loading.value = true
    try {
      const { data, error } = await supabase
        .from('cards')
        .select('*')
        // –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ü–æ—Ä—è–¥–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Å–Ω–∞—á–∞–ª–∞ –º–∞–ª–µ–Ω—å–∫–∏–µ —á–∏—Å–ª–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä -5, –ø–æ—Ç–æ–º 0, 1, 2)
        .order('order', { ascending: true })
        // –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –ï—Å–ª–∏ order —Å–æ–≤–ø–∞–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä —É –≤—Å–µ—Ö 0), —Å–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è
        // ascending: false –æ–∑–Ω–∞—á–∞–µ—Ç "–Ω–æ–≤—ã–µ —Å–≤–µ—Ä—Ö—É" (–æ—Ç –±–æ–ª—å—à–µ–π –¥–∞—Ç—ã –∫ –º–µ–Ω—å—à–µ–π)
        .order('created_at', { ascending: false })

      if (error) throw error
      if (data) {
        cards.value = data as Card[]
      }
    } catch (error) {
      console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:', error)
    } finally {
      loading.value = false
    }
  }
```

##  –£–ª—É—á—à–µ–Ω–∏—è UX. –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ (–≤ –±—Ä–∞—É–∑–µ—Ä–µ).

1. –¢–∏–ø—ã: –î–æ–±–∞–≤–ª—è–µ–º —Ç–∏–ø –¥–ª—è —Ä–µ–∂–∏–º–æ–≤ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏.

2. Store: –î–æ–±–∞–≤–ª—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ currentSort –∏ –ª–æ–≥–∏–∫—É —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏.

3. UI: –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è.

1. –û–±–Ω–æ–≤–ª—è–µ–º —Ç–∏–ø—ã (src/types/index.ts)
–î–æ–±–∞–≤–∏–º —Å—Ç—Ä–æ–≥–∏–π —Ç–∏–ø, —á—Ç–æ–±—ã –Ω–µ –æ—à–∏–±–∏—Ç—å—Å—è –≤ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö —Ä–µ–∂–∏–º–æ–≤.
```typescript
// src/types/index.ts

export type SortMode = 'custom' | 'newest' | 'oldest';
```
2. –û–±–Ω–æ–≤–ª—è–µ–º Store (src/stores/shoebox.ts)
–ù–∞–º –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é —Å–æ—Å—Ç–æ—è–Ω–∏—è sortMode –∏ —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç –º–∞—Å—Å–∏–≤ cards –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞.

–í–∞–∂–Ω–æ: –ö–æ–≥–¥–∞ –º—ã –Ω–∞–∂–∏–º–∞–µ–º "Shuffle", —Ä–µ–∂–∏–º –¥–æ–ª–∂–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –Ω–∞ 'custom', —Ç–∞–∫ –∫–∞–∫ –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–Ω–∏–µ ‚Äî —ç—Ç–æ –∏ –µ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞.

```typescript
// src/stores/shoebox.ts
import { defineStore } from 'pinia'
import { ref, computed } from 'vue'
import { supabase } from '../lib/supabase'
import { useAuthStore } from './auth'
import type { Card, CardColor, SortMode } from '../types' // <--- –î–æ–±–∞–≤–∏–ª–∏ SortMode

export const useShoeboxStore = defineStore('shoebox', () => {
  // --- STATE ---
  const cards = ref<Card[]>([])
  const loading = ref(false)
  const sortMode = ref<SortMode>('custom') // <--- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é "–ü–æ –ø–æ—Ä—è–¥–∫—É"

  const authStore = useAuthStore()

  // --- INTERNAL HELPER (–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ñ—É–Ω–∫—Ü–∏—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏) ---
  const applySort = () => {
    if (sortMode.value === 'newest') {
      // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å—Ç—Ä–æ–∫ (ISO date) —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —á–µ—Ä–µ–∑ localeCompare
      // –∏–ª–∏ —á–µ—Ä–µ–∑ new Date(). –ù–æ –¥–ª—è —Å—Ç—Ä–æ–∫ ISO (2025-12-...) –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å—Ç—Ä–æ–∫.
      cards.value.sort((a, b) => (b.created_at || '').localeCompare(a.created_at || ''))
    }
    else if (sortMode.value === 'oldest') {
      cards.value.sort((a, b) => (a.created_at || '').localeCompare(b.created_at || ''))
    }
    else if (sortMode.value === 'custom') {
      // –°–Ω–∞—á–∞–ª–∞ –ø–æ order, –µ—Å–ª–∏ —Ä–∞–≤–Ω—ã ‚Äî —Ç–æ –Ω–æ–≤—ã–µ —Å–≤–µ—Ä—Ö—É
      cards.value.sort((a, b) => {
        if (a.order !== b.order) return a.order - b.order
        return (b.created_at || '').localeCompare(a.created_at || '')
      })
    }
  }

  // --- ACTIONS ---

  // 1. –°–º–µ–Ω–∞ —Ä–µ–∂–∏–º–∞ (–≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ UI)
  const setSortMode = (mode: SortMode) => {
    sortMode.value = mode
    applySort() // –°—Ä–∞–∑—É –ø—Ä–∏–º–µ–Ω—è–µ–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É
  }

  // 2. Fetch (–æ—Å—Ç–∞–≤–ª—è–µ–º –∫–∞–∫ –±—ã–ª–æ, –Ω–æ –≤ –∫–æ–Ω—Ü–µ –ø—Ä–∏–º–µ–Ω—è–µ–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É)
  const fetchCards = async () => {
    loading.value = true
    try {
      const { data, error } = await supabase
        .from('cards')
        .select('*')
        // –ó–∞–≥—Ä—É–∂–∞–µ–º –≤—Å–µ–≥–¥–∞ –≤ "–Ω–∞—Ç–∏–≤–Ω–æ–º" –ø–æ—Ä—è–¥–∫–µ, —á—Ç–æ–±—ã –¥–∞–Ω–Ω—ã–µ –±—ã–ª–∏ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã
        .order('order', { ascending: true })
        .order('created_at', { ascending: false })

      if (error) throw error
      if (data) {
        cards.value = data as Card[]
        applySort() // <--- –ü—Ä–∏–º–µ–Ω—è–µ–º —Ç–µ–∫—É—â–∏–π –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
      }
    } catch (error) {
      console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:', error)
    } finally {
      loading.value = false
    }
  }

  // 3. Shuffle (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∞–µ—Ç —Ä–µ–∂–∏–º Custom)
  const shuffleCards = async () => {
    // ... –≤–∞—à –∫–æ–¥ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –§–∏—à–µ—Ä–∞-–ô–µ–π—Ç—Å–∞ ...
    const shuffled = [...cards.value]
    let currentIndex = shuffled.length
    let randomIndex: number
    while (currentIndex != 0) {
      randomIndex = Math.floor(Math.random() * currentIndex)
      currentIndex--
      const temp = shuffled[currentIndex]
      shuffled[currentIndex] = shuffled[randomIndex]!
      shuffled[randomIndex] = temp!
    }

    // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω–¥–µ–∫—Å—ã
    shuffled.forEach((card, index) => { card.order = index })

    cards.value = shuffled

    // –í–ê–ñ–ù–û: –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º —Ä–µ–∂–∏–º –Ω–∞ Custom, —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–µ–ª —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–Ω–∏—è
    sortMode.value = 'custom'

    await persistOrder()
  }

  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã (addCard, deleteCard, persistOrder) –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π ...
  // –í addCard –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤—ã–∑–æ–≤ applySort() –≤ –∫–æ–Ω—Ü–µ, –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —Å—Ç—Ä–æ–≥–æ–≥–æ —Å–æ–±–ª—é–¥–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞.

  return {
    cards,
    loading,
    sortMode,    // <--- –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º
    setSortMode, // <--- –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º
    fetchCards,
    addCard,
    deleteCard,
    shuffleCards,
    persistOrder
  }
})
```


3. –û–±–Ω–æ–≤–ª—è–µ–º UI (src/components/TheDesk.vue)
–î–æ–±–∞–≤–∏–º –≥—Ä—É–ø–ø—É –∫–Ω–æ–ø–æ–∫ –≤ —à–∞–ø–∫—É. –ò—Å–ø–æ–ª—å–∑—É–µ–º —É—Å–ª–æ–≤–Ω—ã–π –∫–ª–∞—Å—Å :class="{ active: ... }", —á—Ç–æ–±—ã –ø–æ–¥—Å–≤–µ—á–∏–≤–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º.

```vue
<!-- src/components/TheDesk.vue -->
<script setup lang="ts">
import { onMounted } from 'vue';
import { useShoeboxStore } from '../stores/shoebox';
import NoteCard from './NoteCard.vue';
import { storeToRefs } from 'pinia';

const store = useShoeboxStore();
// –î–æ—Å—Ç–∞–µ–º sortMode —á–µ—Ä–µ–∑ storeToRefs, —á—Ç–æ–±—ã –æ–Ω –±—ã–ª —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–º
const { cards, totalWordCount, loading, sortMode } = storeToRefs(store);
const { addCard, deleteCard, updateCardContent, shuffleCards, fetchCards, setSortMode } = store;

onMounted(() => {
  fetchCards();
})
</script>

<template>
  <div class="desk-container">
    <header class="toolbar">
      <!-- –ë–ª–æ–∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
      <div class="stats">
        <span v-if="loading">‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞... | </span>
        –°–ª–æ–≤: <strong>{{ totalWordCount }}</strong> |
        –ö–∞—Ä—Ç–æ—á–µ–∫: <strong>{{ cards.length }}</strong>
      </div>

      <!-- –ë–ª–æ–∫ –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ (–ù–û–í–û–ï) -->
      <div class="sort-controls">
        <span class="label">–í–∏–¥:</span>
        <button
          :class="{ active: sortMode === 'newest' }"
          @click="setSortMode('newest')"
        >
          –°–≤–µ–∂–∏–µ
        </button>
        <button
          :class="{ active: sortMode === 'oldest' }"
          @click="setSortMode('oldest')"
        >
          –°—Ç–∞—Ä—ã–µ
        </button>
        <button
          :class="{ active: sortMode === 'custom' }"
          @click="setSortMode('custom')"
        >
          –ú–æ–π –ø–æ—Ä—è–¥–æ–∫
        </button>
      </div>

      <!-- –ë–ª–æ–∫ –î–µ–π—Å—Ç–≤–∏–π -->
      <div class="actions">
        <button class="btn-primary" @click="addCard()">+ –ó–∞–º–µ—Ç–∫–∞</button>
        <button class="btn-secondary" @click="shuffleCards()">üé≤ Shuffle</button>
      </div>
    </header>

    <div class="desk-surface">
      <TransitionGroup name="cards-shuffle" tag="div" class="cards-grid">
        <NoteCard
          v-for="card in cards"
          :key="card.id"
          :card="card"
          @remove="deleteCard"
          @update="updateCardContent"
        />
      </TransitionGroup>

      <!-- Empty state... -->
    </div>
  </div>
</template>

<style scoped lang="scss">
// ... –≤–∞—à–∏ —Å—Ç–∞—Ä—ã–µ —Å—Ç–∏–ª–∏ ...

// –°—Ç–∏–ª–∏ –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
.sort-controls {
  display: flex;
  align-items: center;
  gap: 8px;
  background: #f5f5f5;
  padding: 4px;
  border-radius: 6px;

  .label {
    font-size: 0.85rem;
    color: #888;
    margin-left: 8px;
    margin-right: 4px;
  }

  button {
    background: transparent;
    border: none;
    padding: 6px 12px;
    font-size: 0.9rem;
    cursor: pointer;
    border-radius: 4px;
    color: #666;
    transition: all 0.2s;

    &:hover {
      background: rgba(0,0,0,0.05);
    }

    &.active {
      background: white;
      color: #333;
      font-weight: 600;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
  }
}

// –ê–¥–∞–ø—Ç–∏–≤: –µ—Å–ª–∏ –º–µ—Å—Ç–∞ –º–∞–ª–æ, –º–æ–∂–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –Ω–∞ –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É
@media (max-width: 768px) {
  .toolbar {
    flex-direction: column;
    gap: 1rem;
    align-items: stretch;
  }

  .sort-controls {
    justify-content: center;
  }
}
</style>
```


## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –í—ã –Ω–∞–∂–∏–º–∞–µ—Ç–µ "–°–≤–µ–∂–∏–µ": Pinia –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø–µ—Ä–µ—Å–æ—Ä—Ç–∏—Ä–æ–≤—ã–≤–∞–µ—Ç –º–∞—Å—Å–∏–≤ cards –ø–æ –¥–∞—Ç–µ. –ü–æ–ª–µ order –≤ –±–∞–∑–µ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è, –º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ.

2. –í—ã –Ω–∞–∂–∏–º–∞–µ—Ç–µ "Shuffle": –ö–∞—Ä—Ç–æ—á–∫–∏ –ø–µ—Ä–µ–º–µ—à–∏–≤–∞—é—Ç—Å—è, —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –±–∞–∑—É, –∏ —Ä–µ–∂–∏–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ "–ú–æ–π –ø–æ—Ä—è–¥–æ–∫" (Custom).

3. –í—ã –Ω–∞–∂–∏–º–∞–µ—Ç–µ "–ú–æ–π –ø–æ—Ä—è–¥–æ–∫": –ö–∞—Ä—Ç–æ—á–∫–∏ –≤—ã—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è —Ç–∞–∫, –∫–∞–∫ –æ–Ω–∏ –ª–µ–∂–∞—Ç –≤ –±–∞–∑–µ (–ø–æ –ø–æ–ª—é order).


## –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
–î–ª—è —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ –∞–¥–∞–ø—Ç–∏–≤–∞ –ø–æ–¥ —É–∫–∞–∑–∞–Ω–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (Desktop, iPhone 16 Pro Max, iPhone 13 Pro) –∏ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —à–∏—Ä–∏–Ω—ã –∫–∞—Ä—Ç–æ—á–µ–∫ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö, –Ω–∞–º –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–µ—Ç—å CSS-Grid –∏ Flexbox –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

# –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

Grid Layout –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫: –í–º–µ—Å—Ç–æ flex-wrap –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å display: grid. –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –Ω–∞–º —Ç–æ—á–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–ª–æ–Ω–æ–∫: 1 –∫–æ–ª–æ–Ω–∫–∞ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ (100% —à–∏—Ä–∏–Ω—ã) –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ.

–ú–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å—ã: –ù–∞—Å—Ç—Ä–æ–∏–º –±—Ä–µ–π–∫–ø–æ–∏–Ω—Ç—ã —Ç–∞–∫, —á—Ç–æ–±—ã iPhone 13 Pro (—à–∏—Ä–∏–Ω–∞ ~390px) –∏ iPhone 16 Pro Max (—à–∏—Ä–∏–Ω–∞ ~440px) –ø–æ–ø–∞–¥–∞–ª–∏ –ø–æ–¥ –º–æ–±–∏–ª—å–Ω—ã–π –≤–∏–¥ (1 –∫–æ–ª–æ–Ω–∫–∞), –∞ –ø–ª–∞–Ω—à–µ—Ç—ã –∏ –¥–µ—Å–∫—Ç–æ–ø—ã –ø–æ–ª—É—á–∞–ª–∏ —Å–µ—Ç–∫—É.

–£–ª—É—á—à–µ–Ω–∏–µ UI: –î–æ–±–∞–≤–∏–º sticky-—à–∞–ø–∫—É (–ø—Ä–∏–ª–∏–ø–∞—é—â—É—é), —á—Ç–æ–±—ã –∫–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±—ã–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ –¥–ª–∏–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –∑–∞–º–µ—Ç–æ–∫.

–í–æ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

1. NoteCard.vue (–£–ª—É—á—à–µ–Ω–Ω—ã–π –∞–¥–∞–ø—Ç–∏–≤)
–ó–¥–µ—Å—å –≥–ª–∞–≤–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ ‚Äî —É–±–∏—Ä–∞–µ–º –∂–µ—Å—Ç–∫—É—é —à–∏—Ä–∏–Ω—É width: 200px. –¢–µ–ø–µ—Ä—å –∫–∞—Ä—Ç–æ—á–∫–∞ –±—É–¥–µ—Ç —Ä–µ–∑–∏–Ω–æ–≤–æ–π (width: 100%), –∑–∞–Ω–∏–º–∞—è –≤—Å—ë –º–µ—Å—Ç–æ, –∫–æ—Ç–æ—Ä–æ–µ –µ–π –≤—ã–¥–µ–ª–∏—Ç Grid-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ä–æ–¥–∏—Ç–µ–ª—è.


2. TheDesk.vue (–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–µ—Ç–∫–∞ –∏ Sticky Toolbar)

–ó–¥–µ—Å—å –º—ã –∑–∞–º–µ–Ω–∏–º Flexbox –Ω–∞ CSS Grid —Å —Ñ—É–Ω–∫—Ü–∏–µ–π auto-fill –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–∞ –∏ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–π 1 –∫–æ–ª–æ–Ω–∫–æ–π –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö.

## iPhone 13 Pro (390px) –∏ 16 Pro Max (440px):

–ü–æ–ø–∞–¥–∞—é—Ç –ø–æ–¥ –º–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å @media (max-width: 600px).

grid-template-columns: 1fr; –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –∫–∞—Ä—Ç–æ—á–∫–∏ –∑–∞–Ω–∏–º–∞—Ç—å 100% —à–∏—Ä–∏–Ω—ã. –≠—Ç–æ —Ä–µ—à–∞–µ—Ç –≤–∞—à–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ "–∫–∞—Ä—Ç–æ—á–∫–∞ –¥–æ–ª–∂–Ω–∞ –∑–∞–Ω–∏–º–∞—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø–æ —à–∏—Ä–∏–Ω–µ".

–ö–Ω–æ–ø–∫–∞ "+ –ó–∞–º–µ—Ç–∫–∞" –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø—Ä–æ—Å—Ç–æ –≤ "+", —ç–∫–æ–Ω–æ–º—è –º–µ—Å—Ç–æ –≤ —à–∞–ø–∫–µ.

–ö–Ω–æ–ø–∫–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ —Ä–∞—Å—Ç—è–≥–∏–≤–∞—é—Ç—Å—è –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É (width: 100%), –ø–æ –Ω–∏–º –ª–µ–≥—á–µ –ø–æ–ø–∞–¥–∞—Ç—å –ø–∞–ª—å—Ü–µ–º.

## Desktop / –ù–æ—É—Ç–±—É–∫:

–†–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª–æ grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));.

–≠—Ç–æ —Å–æ–∑–¥–∞–µ—Ç "—É–º–Ω—É—é" —Å–µ—Ç–∫—É: –±—Ä–∞—É–∑–µ—Ä —Å–∞–º –ø–æ—Å—á–∏—Ç–∞–µ—Ç, —Å–∫–æ–ª—å–∫–æ –∫–∞—Ä—Ç–æ—á–µ–∫ —à–∏—Ä–∏–Ω–æ–π –º–∏–Ω–∏–º—É–º 280px –≤–ª–µ–∑–∞–µ—Ç –≤ —ç–∫—Ä–∞–Ω. –ï—Å–ª–∏ —ç–∫—Ä–∞–Ω —à–∏—Ä–æ–∫–∏–π ‚Äî –±—É–¥–µ—Ç 3-4 –∫–æ–ª–æ–Ω–∫–∏.

1fr –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∫–∞—Ä—Ç–æ—á–∫–∏ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ —Ä–∞—Å—Ç—è–Ω—É—Ç—Å—è, —á—Ç–æ–±—ã –∑–∞–ø–æ–ª–Ω–∏—Ç—å –ø—É—Å—Ç–æ—Ç—ã.

## Sticky Header:

–ù–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞—Ö –æ—á–µ–Ω—å —É–¥–æ–±–Ω–æ, –∫–æ–≥–¥–∞ –∫–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å" –∏ "–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞" –≤—Å–µ–≥–¥–∞ –ø–æ–¥ —Ä—É–∫–æ–π, –¥–∞–∂–µ –µ—Å–ª–∏ –≤—ã –ø—Ä–æ–ª–∏—Å—Ç–∞–ª–∏ –≤–Ω–∏–∑ 50 –∫–∞—Ä—Ç–æ—á–µ–∫.

## –®—Ä–∏—Ñ—Ç—ã –∏ UI:

–£–≤–µ–ª–∏—á–∏–ª —à—Ä–∏—Ñ—Ç –≤ textarea –¥–æ 1.1rem (–Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞—Ö –º–µ–ª–∫–∏–π —Ç–µ–∫—Å—Ç –Ω–µ—É–¥–æ–±–Ω–æ —á–∏—Ç–∞—Ç—å/–ø–∏—Å–∞—Ç—å).

–ó–∞–º–µ–Ω–∏–ª —à—Ä–∏—Ñ—Ç serif –Ω–∞ 'Georgia', 'Times New Roman' –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è "–∫–Ω–∏–∂–Ω–æ–π" —ç—Å—Ç–µ—Ç–∏–∫–∏, –Ω–æ —Å —Ö–æ—Ä–æ—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç—å—é.


## Drag and Drop –≤–æ Vue 3 ( vue-draggable-plus )

–î–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Drag and Drop –≤–æ Vue 3 —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º –¥–µ-—Ñ–∞–∫—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ SortableJS –∏ –µ–µ –æ–±–µ—Ä—Ç–∫–∞ vue-draggable-plus (—ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è, —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è, —Ä–∞–±–æ—Ç–∞—é—â–∞—è –ª—É—á—à–µ —Å—Ç–∞—Ä–æ–≥–æ vuedraggable).

–û–Ω–∞ –æ—Ç–ª–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ, –∏ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö (—Ç–∞—á-—Å–æ–±—ã—Ç–∏—è), —á—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è –≤–∞—à–µ–≥–æ –¢–ó.

# –ü–ª–∞–Ω (Drag and Drop):
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏.

- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ TheDesk.vue (–∑–∞–º–µ–Ω—è–µ–º TransitionGroup –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Draggable).

- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ shoebox.ts (–¥–æ–±–∞–≤–ª—è–µ–º action –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞ –≤ –ë–î).

1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞
–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
npm install vue-draggable-plus
```

2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Store (src/stores/shoebox.ts)
–ú–µ—Ç–æ–¥, –±—É–¥–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—É—Å—Ç–∏–ª –∫–∞—Ä—Ç–æ—á–∫—É. –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –¥–æ–ª–∂–µ–Ω:
- –û–±–Ω–æ–≤–∏—Ç—å cards –≤ —Å—Ç–æ—Ä–µ (—ç—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∞–º–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —á–µ—Ä–µ–∑ v-model, –Ω–æ –Ω–∞–º –Ω—É–∂–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å).
- –ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å –∏–Ω–¥–µ–∫—Å—ã order —É –≤—Å–µ—Ö –∫–∞—Ä—Ç–æ—á–µ–∫ (0, 1, 2...).
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –ø–æ—Ä—è–¥–æ–∫ –≤ Supabase.

–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ shoebox.ts:
```typescript
// src/stores/shoebox.ts
// ... –∏–º–ø–æ—Ä—Ç—ã

export const useShoeboxStore = defineStore('shoebox', () => {
  // ... state

  // –ù–û–í–û–ï ACTION: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ –ø–æ—Å–ª–µ Drag-n-Drop
  const updateOrder = async (newCards: Card[]) => {
    // 1. –û–±–Ω–æ–≤–ª—è–µ–º –ª–æ–∫–∞–ª—å–Ω—ã–π —Å—Ç–µ–π—Ç
    cards.value = newCards;

    // 2. –ï—Å–ª–∏ —Ä–µ–∂–∏–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –Ω–µ 'custom', –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º –Ω–∞ 'custom'
    // (–≤–µ–¥—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–æ–∑–¥–∞–ª —Å–≤–æ–π –ø–æ—Ä—è–¥–æ–∫ —Ä—É–∫–∞–º–∏)
    if (sortMode.value !== 'custom') {
      sortMode.value = 'custom';
    }

    // 3. –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º –∏–Ω–¥–µ–∫—Å—ã order –¥–ª—è –≤—Å–µ—Ö –∫–∞—Ä—Ç–æ—á–µ–∫
    cards.value.forEach((card, index) => {
      card.order = index;
    });

    // 4. –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ –±–∞–∑—É (–≤ —Ñ–æ–Ω–µ)
    await persistOrder();
  };

  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã

  return {
    // ... —ç–∫—Å–ø–æ—Ä—Ç—ã
    updateOrder, // <--- –ù–µ –∑–∞–±—É–¥—å—Ç–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å
  };
});
```


## 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ TheDesk.vue
- –ó–∞–º–µ–Ω—è–µ–º <TransitionGroup> –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç <VueDraggable>.
- –ò–º–ø–æ—Ä—Ç: –ü–æ–¥–∫–ª—é—á–∞–µ–º VueDraggable.
- v-model: –°–≤—è–∑—ã–≤–∞–µ–º —Å–ø–∏—Å–æ–∫ –∫–∞—Ä—Ç–æ—á–µ–∫.
- –ê–Ω–∏–º–∞—Ü–∏—è: –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –ø—Ä–æ–ø—Å—É animation.
- –°–æ–±—ã—Ç–∏–µ @end: –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—É—Å–∫–∞–µ—Ç –∫–∞—Ä—Ç–æ—á–∫—É, —Å–æ—Ö—Ä–∞–Ω—è–µ–º –ø–æ—Ä—è–¥–æ–∫.


```typescript
<!-- src/components/TheDesk.vue -->
<script setup lang="ts">
import { onMounted } from 'vue';
import { useShoeboxStore } from '../stores/shoebox';
import NoteCard from './NoteCard.vue';
import { storeToRefs } from 'pinia';
import { VueDraggable } from 'vue-draggable-plus'; // <--- –ò–º–ø–æ—Ä—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

const store = useShoeboxStore();
const { cards, totalWordCount, loading, sortMode } = storeToRefs(store);
const { addCard, deleteCard, updateCardContent, shuffleCards, fetchCards, setSortMode, updateOrder } = store;

onMounted(() => {
  fetchCards();
})

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ–∫–æ–Ω—á–∞–Ω–∏—è –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è
const onDragEnd = () => {
  // –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Å–∞–º–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç v-model (cards), –Ω–æ –Ω–∞–º –Ω—É–∂–Ω–æ
  // —è–≤–Ω–æ —Ç—Ä–∏–≥–≥–µ—Ä–Ω—É—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö.
  // –¢–∞–∫ –∫–∞–∫ cards —É–∂–µ –æ–±–Ω–æ–≤–ª–µ–Ω —á–µ—Ä–µ–∑ v-model, –ø–µ—Ä–µ–¥–∞–µ–º —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.
  updateOrder(cards.value);
}
</script>

<template>
  <div class="desk-container">
    <!-- ... HEADER (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π) ... -->
    <header class="toolbar">
       <!-- ... –≤–µ—Å—å –∫–æ–¥ —Ö–µ–¥–µ—Ä–∞ ... -->
    </header>

    <div class="desk-surface">
      <!--
        –ó–ê–ú–ï–ù–ê TransitionGroup –ù–ê VueDraggable
        v-model="cards" - –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–≤—è–∑—å —Å –º–∞—Å—Å–∏–≤–æ–º
        :animation="150" - –≤—Ä–µ–º—è –∞–Ω–∏–º–∞—Ü–∏–∏ —Å–¥–≤–∏–≥–∞ (–º—Å)
        handle=".drag-handle" - (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —Ç—è–Ω—É—Ç—å —Ç–æ–ª—å–∫–æ –∑–∞ –∏–∫–æ–Ω–∫—É.
                                –ü–æ–∫–∞ –æ—Å—Ç–∞–≤–∏–º —Ç—è–Ω—É—Ç—å –∑–∞ –≤—Å—é –∫–∞—Ä—Ç–æ—á–∫—É, –∫—Ä–æ–º–µ —Ç–µ–∫—Å—Ç–∞.
        class="cards-grid" - —Ç–æ—Ç –∂–µ –∫–ª–∞—Å—Å —Å–µ—Ç–∫–∏
        @end="onDragEnd" - –≤—ã–∑—ã–≤–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ, –∫–æ–≥–¥–∞ –±—Ä–æ—Å–∏–ª–∏
      -->
      <VueDraggable
        v-model="cards"
        :animation="200"
        class="cards-grid"
        ghost-class="ghost"
        @end="onDragEnd"
      >
        <!--
           –í–ê–ñ–ù–û: –í–Ω—É—Ç—Ä–∏ VueDraggable –Ω—É–∂–µ–Ω –æ–¥–∏–Ω –∫–æ—Ä–Ω–µ–≤–æ–π —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è —Ü–∏–∫–ª–∞,
           –ª–∏–±–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∞—Ç—Ç—Ä–∏–±—É—Ç—ã.
           NoteCard –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∫–ª–∞—Å—Å –∏ style –Ω–æ—Ä–º–∞–ª—å–Ω–æ.
        -->
        <NoteCard
          v-for="card in cards"
          :key="card.id"
          :card="card"
          @remove="deleteCard"
          @update="updateCardContent"
        />
      </VueDraggable>

      <!-- Empty State -->
      <div v-if="cards.length === 0 && !loading" class="empty-state">
        <p>–ö–æ—Ä–æ–±–∫–∞ –ø—É—Å—Ç–∞.</p>
        <button class="btn-text" @click="addCard()">–°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—É—é –∫–∞—Ä—Ç–æ—á–∫—É</button>
      </div>
    </div>
  </div>
</template>

<style scoped lang="scss">
/* ... –≤–∞—à–∏ —Å—Ç–∞—Ä—ã–µ —Å—Ç–∏–ª–∏ ... */

/* –°—Ç–∏–ª–∏ –¥–ª—è Drag-n-Drop */

/* –ö–ª–∞—Å—Å "–ø—Ä–∏–∑—Ä–∞–∫–∞" - –º–µ—Å—Ç–æ, –∫—É–¥–∞ —É–ø–∞–¥–µ—Ç –∫–∞—Ä—Ç–æ—á–∫–∞ */
.ghost {
  opacity: 0.4;
  background: #e0e0e0;
  border: 2px dashed #999;
}

/* –ü—Ä–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–∏ –∫—É—Ä—Å–æ—Ä –º–µ–Ω—è–µ—Ç—Å—è */
.cards-grid {
  /* –í–∞–∂–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –≤–Ω—É—Ç—Ä–∏ Grid */
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 1.5rem;
  width: 100%;
}

@media (max-width: 600px) {
  .cards-grid {
    grid-template-columns: 1fr;
    gap: 1rem;
  }
}
</style>
```

##  4. –î–æ—Ä–∞–±–æ—Ç–∫–∞ NoteCard.vue (—á—Ç–æ–±—ã —Ç–µ–∫—Å—Ç –Ω–µ –º–µ—à–∞–ª –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—é)
–ï—Å—Ç—å –Ω—é–∞–Ω—Å: –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ—Ç—è–Ω—É—Ç—å –∑–∞ textarea, –±—Ä–∞—É–∑–µ—Ä –º–æ–∂–µ—Ç –ø–æ–¥—É–º–∞—Ç—å, —á—Ç–æ –æ–Ω —Ö–æ—á–µ—Ç –≤—ã–¥–µ–ª–∏—Ç—å —Ç–µ–∫—Å—Ç, –∞ –Ω–µ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É.

–õ—É—á—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ ‚Äî —Ä–∞–∑—Ä–µ—à–∏—Ç—å –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –∑–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞—Ä—Ç–æ—á–∫–∏ (card-header), –∞ –æ–±–ª–∞—Å—Ç—å —Ç–µ–∫—Å—Ç–∞ –æ—Å—Ç–∞–≤–∏—Ç—å –¥–ª—è –≤–≤–æ–¥–∞.

–û—Ç–∫—Ä–æ–π—Ç–µ src/components/NoteCard.vue –∏ –¥–æ–±–∞–≤—å—Ç–µ cursor: grab –∑–∞–≥–æ–ª–æ–≤–∫—É.

–í NoteCard.vue –º–æ–∂–Ω–æ –Ω–∏—á–µ–≥–æ –Ω–µ –º–µ–Ω—è—Ç—å –ª–æ–≥–∏—á–µ—Å–∫–∏, –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ vue-draggable-plus —É–º–Ω–∞—è. –ù–æ –µ—Å–ª–∏ –≤—ã –∑–∞–º–µ—Ç–∏—Ç–µ, —á—Ç–æ —Ç–µ–∫—Å—Ç —Å–ª–æ–∂–Ω–æ –≤—ã–¥–µ–ª—è—Ç—å, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–ø—Å—É handle=".card-header" –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç VueDraggable –≤ —Ñ–∞–π–ª–µ TheDesk.vue.

–†–µ–∫–æ–º–µ–Ω–¥—É—é –¥–ª—è –Ω–∞—á–∞–ª–∞ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –±–µ–∑ handle (—Ç—è–Ω—É—Ç—å –∑–∞ –ª—é–±–æ–µ –º–µ—Å—Ç–æ). –ï—Å–ª–∏ –±—É–¥–µ—Ç –Ω–µ—É–¥–æ–±–Ω–æ –≤—ã–¥–µ–ª—è—Ç—å —Ç–µ–∫—Å—Ç –≤–Ω—É—Ç—Ä–∏ –∫–∞—Ä—Ç–æ—á–∫–∏, —Ç–æ–≥–¥–∞ –¥–æ–±–∞–≤–∏–º —Ö—ç–Ω–¥–ª.

–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.

–ù–∞–∂–º–∏—Ç–µ "–ú–æ–π –ø–æ—Ä—è–¥–æ–∫" (–∏–ª–∏ Custom).

–°—Ö–≤–∞—Ç–∏—Ç–µ –∫–∞—Ä—Ç–æ—á–∫—É –º—ã—à–∫–æ–π –∏ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –Ω–∞ –¥—Ä—É–≥–æ–µ –º–µ—Å—Ç–æ.

–û—Ç–ø—É—Å—Ç–∏—Ç–µ.

–¢–µ—Å—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è: –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (F5). –ö–∞—Ä—Ç–æ—á–∫–∏ –¥–æ–ª–∂–Ω—ã –æ—Å—Ç–∞—Ç—å—Å—è –≤ —Ç–æ–º –ø–æ—Ä—è–¥–∫–µ, –≤ –∫–æ—Ç–æ—Ä—ã–π –≤—ã –∏—Ö –ø–µ—Ä–µ—Ç–∞—â–∏–ª–∏.

–ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —ç—Ç–æ –ø—Ä–∞–≤–∏–ª–æ –≤ —Å–µ–∫—Ü–∏—é <style> –≤–Ω–∏–∑—É —Ñ–∞–π–ª–∞, –≤–Ω—É—Ç—Ä—å –∫–ª–∞—Å—Å–∞ .card-header.

```vue
<!-- src/components/NoteCard.vue -->
<template>
  <div class="note-card" :class="`is-${card.color}`">
    <!-- –û—Å—Ç–∞–≤–ª—è–µ–º HTML —á–∏—Å—Ç—ã–º -->
    <div class="card-header">
      <span class="card-id">#{{ card.id.slice(0, 4) }}</span>
      <button class="btn-close" @click="emit('remove', card.id)" aria-label="–£–¥–∞–ª–∏—Ç—å">√ó</button>
    </div>

    <textarea
      class="card-content"
      :value="card.content"
      @input="emit('update', card.id, ($event.target as HTMLTextAreaElement).value)"
      placeholder="–ü–∏—à–∏ –∑–¥–µ—Å—å..."
    ></textarea>
  </div>
</template>

<style scoped lang="scss">
/* ... —Å—Ç–∏–ª–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ ... */

.card-header {
  display: flex;
  justify-content: space-between;
  margin-bottom: 0.75rem;
  color: #90a4ae;
  font-size: 0.75rem;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.5px;

  /* –í–û–¢ –°–Æ–î–ê –î–û–ë–ê–í–õ–Ø–ï–ú –ö–£–†–°–û–†: */
  cursor: grab;
}

/* –ö–æ–≥–¥–∞ —Ç–∞—â–∏–º, –∫—É—Ä—Å–æ—Ä –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ "—Å—Ö–≤–∞—á–µ–Ω–Ω—É—é —Ä—É–∫—É" */
.card-header:active {
  cursor: grabbing;
}

/* ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ ... */
</style>
```
–ß—Ç–æ —ç—Ç–æ –¥–∞—Å—Ç: –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–≤–µ–¥–µ—Ç –º—ã—à–∫—É –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞—Ä—Ç–æ—á–∫–∏ (—Ç–∞–º, –≥–¥–µ ID), –∫—É—Ä—Å–æ—Ä –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—Å—è –≤ "–ª–∞–¥–æ—à–∫—É" (grab), –ø–æ–¥—Å–∫–∞–∑—ã–≤–∞—è, —á—Ç–æ –∑–∞ —ç—Ç–æ –º–µ—Å—Ç–æ –º–æ–∂–Ω–æ –ø–æ—Ç—è–Ω—É—Ç—å.

–í–∞–∂–Ω–æ–µ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ TheDesk.vue
–ß—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ —Ç–∞—Å–∫–∞—Ç—å —Ç–æ–ª—å–∫–æ –∑–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫ (–∞ —Ç–µ–∫—Å—Ç —Å–ø–æ–∫–æ–π–Ω–æ –≤—ã–¥–µ–ª—è—Ç—å –º—ã—à–∫–æ–π), –Ω—É–∂–Ω–æ –≤ —Ñ–∞–π–ª–µ src/components/TheDesk.vue –¥–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä handle.

```vue
<!-- src/components/TheDesk.vue -->
<VueDraggable
  v-model="cards"
  :animation="200"
  class="cards-grid"
  ghost-class="ghost"
  handle=".card-header"
  @end="onDragEnd"
>
  <!-- ... -->
</VueDraggable>
```
–°—Ç—Ä–æ–∫–∞ handle=".card-header" –≥–æ–≤–æ—Ä–∏—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–µ: "–ù–∞—á–∏–Ω–∞–π –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∞–ª –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç —Å –∫–ª–∞—Å—Å–æ–º .card-header". –≠—Ç–æ –æ—á–µ–Ω—å —É–ª—É—á—à–∞–µ—Ç UX, —Ç–∞–∫ –∫–∞–∫ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ç–µ–∫—Å—Ç–æ–º –≤ textarea.
